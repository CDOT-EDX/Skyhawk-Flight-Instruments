<!-- 
jQuery Flight Indicators Extended plugin
By SÃ©bastien Matton (seb_matton@hotmail.com), Edward Hanna (edward.hanna@senecacollege.ca) and Raymond Blaga (raymond.blaga@gmail.com)

Published under GPLv3 License.

https://github.com/uw-ray/jQuery-Flight-Indicators
  -->
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/flightindicators.css" />

    <title>jQuery Flight Indicators Extended Dashboard</title>

    <style>

        .instrument_dashboard {
            z-index: 0;
            background-color: #444547;
            text-align: center;
        }

    </style>

</head>
<body>
<div class="instrument_dashboard">
        
    <div class="instruments">
        <div>
            <span id="airspeed"></span>
            <span id="attitude"></span>
            <span id="altimeter"></span>            
        </div>
        <div>
            <span id="turn_coordinator"></span>
            <span id="heading"></span>
            <span id="variometer"></span>
        </div>
    </div>
  
</div>

<footer>
</footer>

<!-- Importing jQuery library -->
<script src="js/jquery-1.11.3.js"></script>

<!-- Importing the FlightIndicators library -->
<script src="js/jquery.flightindicators.js"></script>

<!-- Let start our scripts -->
<script type="text/javascript">

var settings = {
    size: 250,
    showBox: false,
    showScrews: true
};

var airspeed = $.flightIndicator('#airspeed', 'airspeed', settings);
var attitude = $.flightIndicator('#attitude', 'attitude', settings);
var altimeter = $.flightIndicator('#altimeter', 'altimeter', settings);
var turn_coordinator = $.flightIndicator('#turn_coordinator', 'turn_coordinator', settings);
var heading = $.flightIndicator('#heading', 'heading', settings);
var variometer = $.flightIndicator('#variometer', 'variometer', settings);

$(".instrument_dashboard").css({"width": settings.size * 3.2});

// Update at 20Hz

var increment = 0;
setInterval(function() {
    // Airspeed update
    airspeed.setAirSpeed(80+80*Math.sin(increment/10));

    // Attitude update
    attitude.setRoll(30*Math.sin(increment/10));
    attitude.setPitch(50*Math.sin(increment/20));

    // Altimeter update
    altimeter.setAltitude(10*increment);
    altimeter.setPressure(30+3*Math.sin(increment/50)/10);
    increment++;
    
    // TC update - note that the TC appears opposite the angle of the attitude indicator, as it mirrors the actual wing up/down position
    turn_coordinator.setTurn((30*Math.sin(increment/10))*-1);
    turn_coordinator.setSlip(0);

    // Heading update
    heading.setHeading(increment);
    heading.setBeaconOne(increment * 0.5, true);
    heading.setBeaconTwo(-increment * 0.75, true);
    
    // Vario update
    variometer.setVario(2*Math.sin(increment/10));

}, 50);
</script>
</body>
</html>